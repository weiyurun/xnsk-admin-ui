{"version":3,"file":"xnsk-admin-ui.js","sources":["../src/components/BlueTitle.vue","../src/components/DefaultDialog.vue","../src/assets/img/copy.png","../src/utils/index.js","../src/components/LogDialog.vue","../src/components/drawer.vue","../index.js"],"sourcesContent":["<!--\n  左侧带蓝条的title bar\n-->\n<template>\n  <div class=\"flex justify-between items-center\">\n    <div class=\"flex justify-start items-center gap-3\">\n      <div\n        class=\"blue-bar\"\n        v-if=\"showTitleBar\"\n        style=\"width: 3px; border-radius: 2px\"\n        :style=\"{ height: fontSize }\"\n      ></div>\n      <b :style=\"{ fontSize: fontSize }\">{{ title }}</b>\n    </div>\n    <div class=\"flex justify-center items-center\">\n      <slot></slot>\n    </div>\n     \n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  title: String,\n  size: {\n    type: String,\n    default: 'small',\n  },\n  showTitleBar: {\n    type: Boolean,\n    default: true,\n  },\n})\nconst fontSize = computed(() => {\n  switch (props.size) {\n    case 'small':\n      return '14px'\n    case 'big':\n      return '18px'\n    default:\n      return props.size\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.blue-bar {\n  background-color: rgba(37, 127, 247, 1);\n}\n</style>\n","<!--\n  弹窗模板 \n  v-model:show 是否显示\n  title 标题（如果不传，头部左侧蓝色竖条也不显示）\n  width 宽\n  height 高 （默认auto，如果内容太多需要需要滚动条，请设置具体高度）\n  footBtns 底部按钮（默认确定+取消，不需要按钮时传空数组），默认第一个按钮实心，第二个空心。特殊情况直接使用#footBtn的slot自定义\n  callback 按钮点击事件（参数function,和footBtns顺序一一对应） \n  loading 提交按钮的loading\n  @beforeClose 关闭拦截 参数：function，执行该function即执行关闭。不监听则点击取消或叉号直接关闭\n  lock 是否锁定？默认为true，不支持点击蒙层和ESC关闭\n  其他参数参考n-modal（部分参数已固定，不支持定制，如：preset、close-on-esc、mask-closable、trap-focus）\n\n  ……其他参数/功能持续维护\n\n  样例：\n  <xnsk-dialog\n    title=\"标题\"\n    v-model:show=\"true\"\n    width=\"600\"\n    height=\"auto\"\n    :footBtns=\"['确定', '取消']\"\n    :callback=\"[submitHandler,cancelHandler]\"\n    @beforeClose=\"beforeClose\"\n  >\n    /* 弹窗主体内容 */\n  </xnsk-dialog>\n<script setup>\n  import { useDialog } from 'naive-ui'\n  const dialog = useDialog()\n  /* 关闭拦截 */\n  function beforeClose(done){\n      dialog.warning({\n          title: '警告',\n          content: '确定关闭？',\n          positiveText: '确定',\n          negativeText: '取消',\n          onPositiveClick: () => {\n            done()\n          },\n          onNegativeClick: () => {\n          }\n        })\n  }\n</script>\n \n-->\n<template>\n  <n-modal\n    v-model:show=\"isShow\"\n    :trap-focus=\"false\"\n    preset=\"card\"\n    :close-on-esc=\"!lock\"\n    :mask-closable=\"!lock\"\n    class=\"dialog-templete\"\n    :style=\"{\n      width: width + 'px',\n      height: height + 'px',\n    }\"\n  >\n    <template #header>\n      <BlueTitle v-if=\"title\" :title=\"title\" />\n    </template>\n    <template #default>\n      <slot></slot>\n    </template>\n    <template #footer>\n      <slot v-if=\"slot.footBtn\" name=\"footBtn\"></slot>\n      <div v-else class=\"dialog-templete-btns\">\n        <n-button v-if=\"footBtns.length > 0\" type=\"info\" @click=\"submitClick\">\n          {{ footBtns[0] }}\n        </n-button>\n        <n-button\n          v-if=\"footBtns.length > 1\"\n          type=\"info\"\n          ghost\n          @click=\"cancelClick\"\n        >\n          {{ footBtns[1] }}\n        </n-button>\n      </div>\n    </template>\n  </n-modal>\n</template>\n<script>\n/* import { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"XnskDialog\",\n}); */\n</script>\n<script setup>\nimport { useDialog, NModal, NButton } from \"naive-ui\";\nimport { watch, ref, computed, reactive, useSlots, useAttrs } from \"vue\";\nimport BlueTitle from \"./BlueTitle.vue\";\n\nconst emit = defineEmits([\"update:show\"]);\nconst attrs = useAttrs();\nconst slot = useSlots();\n\nconst props = defineProps({\n  show: {\n    type: Boolean,\n    default: false,\n  },\n  title: {\n    type: String,\n    default: \"\",\n  },\n  width: {\n    type: [Number, String],\n    default: \"600\",\n  },\n  height: {\n    type: [Number, String],\n    default: \"auto\",\n  },\n  footBtns: {\n    type: Array,\n    default: [\"确定\", \"取消\"],\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  callback: {\n    type: Array,\n    default: [],\n  },\n  //是否锁定\n  lock: {\n    type: Boolean,\n    defualt: false,\n  },\n});\n/* 是否显示弹窗 */\nlet isShow = computed({\n  get() {\n    return props.show;\n  },\n  set(val) {\n    if (!val) {\n      cancelClick();\n    }\n  },\n});\n\n/* 提交 */\nfunction submitClick() {\n  props.callback[0] && props.callback[0]();\n}\n/* 取消 */\nfunction cancelClick() {\n  if (attrs.onBeforeClose) {\n    emit(\"beforeClose\", () => {\n      if (props.callback[1]) {\n        emit(\"update:show\", false);\n        props.callback[1] && props.callback[1]();\n      }\n    });\n  } else {\n    emit(\"update:show\", false);\n    props.callback[1] && props.callback[1]();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-templete-btns {\n  text-align: center;\n  .n-button {\n    margin: 10px 10px 0 10px;\n  }\n}\n</style>\n<style lang=\"scss\">\n.n-modal.dialog-templete {\n  border-radius: 10px;\n  box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.11);\n  max-height: 95vh;\n  max-width: 95vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  .n-card__content {\n    flex: 1;\n    overflow: auto;\n  }\n}\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACPklEQVRYR+2XT4hPURTHP19/M9GMlFK2NlZqkiz8WymKUqRJZJIiTRYWylZKoRBlxcbWikgkRUnIhtmQ8qekjBFFSl+d6b3p9fJ+v3ffm9+Uclav+84953POvffcc0UXsb0LOAgMAnO66Zf+G3gHXAOOS/pcnq9OBm1fAfYkOq1SfwlskPSpqFAJYHs/cGmKnOdmXgDripnoBHAHWN8QIOzOqJh7QdKh/F/HJWjoHNvhfG22d7aX7PwClkl6G+M9ASg6tD0CnC1BnJZ0ZBLA9lzgJLADWNI08mzeG+A2cFTSeIzZvg5sLth9IGnNBECWrrst1ruK9zWwKjac7U3AjYLiN6BfkgPgAHCxZdRV0y9LGrbdD4yVNmafpB8BcK8H0edAEelCSb9tx/f8AukkQFSqpT3KQJhdJGnsP0CTDETBSJGqiyp5CR4CQ3mlqktgewA4D8TtWZRkgJWSntR1XKp6fcBXYFZhPBkgisfjhgBxzL60BYjoh4FXiRCLgTPAtrZLkOi3q3ryEnS1mKjw7wJ8T4w0TsDfuqDkDNwHdkr6mAJgO07AOWBv2004KOlZivNc1/a8rA7MblMHVkt61BBgQVYHZrYBeA7sA6KjiYdFXYk6cArYUmMJRiUtD71oSKa7H/gJbJUUfeO0AsTL6ClwQtJonqXIwC1gY908J+rFUR6IlqxqXgAMAVcTDddVvykpOuJKmXiY2I6uOLrjqZS4FeNIxzuhM0AGsRs4DKxo+WL6AMQ745ik990i+gN2mEgw/3nqggAAAABJRU5ErkJggg==\"","//写入内容到剪切板中\nexport function writeToClipBoard(content) {\n  let writeStr = \"\";\n  if (Object.prototype.toString.call(content) === \"[object String]\") {\n    writeStr = JSON.stringify(content);\n  } else {\n    writeStr = content;\n  }\n  return new Promise((resolve, reject) => {\n    if (navigator.clipboard) {\n      // clipboard api 复制\n      navigator.clipboard.writeText(writeStr);\n    } else {\n      let textarea = document.createElement(\"textarea\");\n      document.body.appendChild(textarea);\n      textarea.style.position = \"fixed\";\n      textarea.style.clip = \"rect(0 0 0 0)\";\n      textarea.style.top = \"10px\";\n      textarea.value = writeStr;\n      textarea.select();\n      document.execCommand(\"copy\", true);\n      document.body.removeChild(textarea);\n    }\n    resolve();\n  });\n}\n","<!--\n  案例：\n  <XnskLogDialog\n      v-model:show=\"\"\n      data=\"我是日志的内容\"\n    />\n-->\n<template>\n  <DefaultDialog\n    :title=\"title\"\n    v-model:show=\"isShow\"\n    width=\"800\"\n    :callback=\"[]\"\n  >\n    <div class=\"break-all\">\n      {{ data }}\n    </div>\n    <template #footBtn>\n      <div class=\"text-center\">\n        <n-button type=\"primary\" @click=\"copyLog\">\n          <template #icon>\n            <img\n              class=\"mt-px\"\n              src=\"../assets/img/copy.png\"\n              style=\"width: 16px; height: 16px\"\n            /> </template\n          >复制日志\n        </n-button>\n      </div>\n    </template>\n  </DefaultDialog>\n</template>\n\n<script setup>\nimport DefaultDialog from \"./DefaultDialog.vue\";\nimport { computed, useSlots } from \"vue\";\nimport { writeToClipBoard } from \"../utils\";\nimport { NButton } from \"naive-ui\";\nconst emit = defineEmits([\"update:show\"]);\n\nconst slot = useSlots();\nconst props = defineProps({\n  show: {\n    type: Boolean,\n    default: false,\n  },\n  title: {\n    type: String,\n    default: \"日志\",\n  },\n  data: {\n    type: String,\n    default: \"\",\n  },\n});\n/* 是否显示弹窗 */\nlet isShow = computed({\n  get() {\n    return props.show;\n  },\n  set(val) {\n    if (!val) {\n      emit(\"update:show\", false);\n    }\n  },\n});\n/* 点击复制 */\nfunction copyLog() {\n  writeToClipBoard(props.data).then(() => {\n    try {\n      $message.success(\"复制成功\");\n      emit(\"success\");\n    } catch (err) {\n      console.log(\"$message未定义\");\n      emit(\"success\");\n    }\n  });\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","<template>\n  <n-drawer\n    :close-on-esc=\"outClosable\"\n    :mask-closable=\"outClosable\"\n    :auto-focus=\"false\"\n    v-bind=\"attrs\"\n  >\n    <n-drawer-content :title=\"attrs.title\" closable>\n      <slot></slot>\n    </n-drawer-content>\n  </n-drawer>\n</template>\n\n<script setup>\nimport { onMounted, useAttrs } from 'vue'\nimport { NDrawer, NDrawerContent } from 'naive-ui'\n\nconst attrs = useAttrs()\nconst props = defineProps({\n  outClosable: {\n    type: Boolean,\n    default: () => false,\n  },\n})\nonMounted(() => {})\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import * as inherit from \"./inherit.js\";\nimport * as extend from \"./src/components\";\nimport \"./src/css/main.css\";\n\n/* 非组件 */\nimport { useMessage } from \"naive-ui\";\n\nconst install = function (Vue, opts = {}) {\n  /* 转发naive部分 */\n  for (let key in inherit) {\n    const name = \"Xnsk\" + inherit[key].name;\n    Vue.component(name, inherit[key]);\n  }\n  /* 自定义部分 */\n  for (let key in extend) {\n    Vue.component(key, extend[key]);\n  }\n};\nexport { useMessage };\nexport default { install, ...extend };\n"],"names":["fontSize","computed","props","attrs","useAttrs","slot","useSlots","isShow","val","cancelClick","submitClick","emit","_imports_0","writeToClipBoard","content","writeStr","resolve","reject","textarea","copyLog","err","onMounted","install","Vue","opts","key","inherit","name","extend","index","__spreadValues"],"mappings":"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"}