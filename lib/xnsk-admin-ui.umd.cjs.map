{"version":3,"file":"xnsk-admin-ui.umd.cjs","sources":["../src/components/BlueTitle.vue","../src/components/DefaultDialog.vue","../src/assets/img/copy.png","../src/utils/index.js","../src/components/LogDialog.vue","../index.js"],"sourcesContent":["<!--\r\n  左侧带蓝条的title bar\r\n-->\r\n<template>\r\n  <div class=\"flex justify-between items-center\">\r\n    <div class=\"flex justify-start items-center gap-3\">\r\n      <div\r\n        class=\"blue-bar\"\r\n        v-if=\"showTitleBar\"\r\n        style=\"width: 3px; height: 16px; border-radius: 2px\"\r\n      ></div>\r\n      <b :style=\"{ fontSize: fontSize }\">{{ title }}</b>\r\n    </div>\r\n    <div class=\"flex justify-center items-center\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from \"vue\";\r\n\r\nconst props = defineProps({\r\n  title: String,\r\n  size: {\r\n    type: String,\r\n    default: \"small\",\r\n  },\r\n  showTitleBar: {\r\n    type: Boolean,\r\n    default: true,\r\n  },\r\n});\r\nconst fontSize = computed(() => {\r\n  switch (props.size) {\r\n    case \"small\":\r\n      return \"14px\";\r\n    case \"big\":\r\n      return \"18px\";\r\n    default:\r\n      return props.size;\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.blue-bar {\r\n  background-color: rgba(37, 127, 247, 1);\r\n}\r\n</style>\r\n","<!--\r\n  弹窗模板 \r\n  v-model:show 是否显示\r\n  title 标题（如果不传，头部左侧蓝色竖条也不显示）\r\n  width 宽\r\n  height 高 （默认auto，如果内容太多需要需要滚动条，请设置具体高度）\r\n  footBtns 底部按钮（默认确定+取消，不需要按钮时传空数组），默认第一个按钮实心，第二个空心。特殊情况直接使用#footBtn的slot自定义\r\n  callback 按钮点击事件（参数function,和footBtns顺序一一对应） \r\n  loading 提交按钮的loading\r\n  @beforeClose 关闭拦截 参数：function，执行该function即执行关闭。不监听则点击取消或叉号直接关闭\r\n  lock 是否锁定？默认为true，不支持点击蒙层和ESC关闭\r\n  其他参数参考n-modal（部分参数已固定，不支持定制，如：preset、close-on-esc、mask-closable、trap-focus）\r\n\r\n  ……其他参数/功能持续维护\r\n\r\n  样例：\r\n  <xnsk-dialog\r\n    title=\"标题\"\r\n    v-model:show=\"true\"\r\n    width=\"600\"\r\n    height=\"auto\"\r\n    :footBtns=\"['确定', '取消']\"\r\n    :callback=\"[submitHandler,cancelHandler]\"\r\n    @beforeClose=\"beforeClose\"\r\n  >\r\n    /* 弹窗主体内容 */\r\n  </xnsk-dialog>\r\n<script setup>\r\n  import { useDialog } from 'naive-ui'\r\n  const dialog = useDialog()\r\n  /* 关闭拦截 */\r\n  function beforeClose(done){\r\n      dialog.warning({\r\n          title: '警告',\r\n          content: '确定关闭？',\r\n          positiveText: '确定',\r\n          negativeText: '取消',\r\n          onPositiveClick: () => {\r\n            done()\r\n          },\r\n          onNegativeClick: () => {\r\n          }\r\n        })\r\n  }\r\n</script>\r\n \r\n-->\r\n<template>\r\n  <n-modal\r\n    v-model:show=\"isShow\"\r\n    :trap-focus=\"false\"\r\n    preset=\"card\"\r\n    :close-on-esc=\"!lock\"\r\n    :mask-closable=\"!lock\"\r\n    class=\"dialog-templete\"\r\n    :style=\"{\r\n      width: width + 'px',\r\n      height: height + 'px',\r\n    }\"\r\n  >\r\n    <template #header>\r\n      <BlueTitle v-if=\"title\" :title=\"title\" />\r\n    </template>\r\n    <template #default>\r\n      <slot></slot>\r\n    </template>\r\n    <template #footer>\r\n      <slot v-if=\"slot.footBtn\" name=\"footBtn\"></slot>\r\n      <div v-else class=\"dialog-templete-btns\">\r\n        <n-button v-if=\"footBtns.length > 0\" type=\"info\" @click=\"submitClick\">\r\n          {{ footBtns[0] }}\r\n        </n-button>\r\n        <n-button\r\n          v-if=\"footBtns.length > 1\"\r\n          type=\"info\"\r\n          ghost\r\n          @click=\"cancelClick\"\r\n        >\r\n          {{ footBtns[1] }}\r\n        </n-button>\r\n      </div>\r\n    </template>\r\n  </n-modal>\r\n</template>\r\n<script>\r\n/* import { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  name: \"XnskDialog\",\r\n}); */\r\n</script>\r\n<script setup>\r\nimport { useDialog, NModal, NButton } from \"naive-ui\";\r\nimport { watch, ref, computed, reactive, useSlots, useAttrs } from \"vue\";\r\nimport BlueTitle from \"./BlueTitle.vue\";\r\n\r\nconst emit = defineEmits([\"update:show\"]);\r\nconst attrs = useAttrs();\r\nconst slot = useSlots();\r\n\r\nconst props = defineProps({\r\n  show: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  title: {\r\n    type: String,\r\n    default: \"\",\r\n  },\r\n  width: {\r\n    type: [Number, String],\r\n    default: \"600\",\r\n  },\r\n  height: {\r\n    type: [Number, String],\r\n    default: \"auto\",\r\n  },\r\n  footBtns: {\r\n    type: Array,\r\n    default: [\"确定\", \"取消\"],\r\n  },\r\n  loading: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  callback: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n  //是否锁定\r\n  lock: {\r\n    type: Boolean,\r\n    defualt: false,\r\n  },\r\n});\r\n/* 是否显示弹窗 */\r\nlet isShow = computed({\r\n  get() {\r\n    return props.show;\r\n  },\r\n  set(val) {\r\n    if (!val) {\r\n      cancelClick();\r\n    }\r\n  },\r\n});\r\n\r\n/* 提交 */\r\nfunction submitClick() {\r\n  props.callback[0] && props.callback[0]();\r\n}\r\n/* 取消 */\r\nfunction cancelClick() {\r\n  if (attrs.onBeforeClose) {\r\n    emit(\"beforeClose\", () => {\r\n      if (props.callback[1]) {\r\n        emit(\"update:show\", false);\r\n        props.callback[1] && props.callback[1]();\r\n      }\r\n    });\r\n  } else {\r\n    emit(\"update:show\", false);\r\n    props.callback[1] && props.callback[1]();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dialog-templete-btns {\r\n  text-align: center;\r\n  .n-button {\r\n    margin: 10px 10px 0 10px;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.n-modal.dialog-templete {\r\n  border-radius: 10px;\r\n  box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.11);\r\n  max-height: 95vh;\r\n  max-width: 95vh;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .n-card__content {\r\n    flex: 1;\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACPklEQVRYR+2XT4hPURTHP19/M9GMlFK2NlZqkiz8WymKUqRJZJIiTRYWylZKoRBlxcbWikgkRUnIhtmQ8qekjBFFSl+d6b3p9fJ+v3ffm9+Uclav+84953POvffcc0UXsb0LOAgMAnO66Zf+G3gHXAOOS/pcnq9OBm1fAfYkOq1SfwlskPSpqFAJYHs/cGmKnOdmXgDripnoBHAHWN8QIOzOqJh7QdKh/F/HJWjoHNvhfG22d7aX7PwClkl6G+M9ASg6tD0CnC1BnJZ0ZBLA9lzgJLADWNI08mzeG+A2cFTSeIzZvg5sLth9IGnNBECWrrst1ruK9zWwKjac7U3AjYLiN6BfkgPgAHCxZdRV0y9LGrbdD4yVNmafpB8BcK8H0edAEelCSb9tx/f8AukkQFSqpT3KQJhdJGnsP0CTDETBSJGqiyp5CR4CQ3mlqktgewA4D8TtWZRkgJWSntR1XKp6fcBXYFZhPBkgisfjhgBxzL60BYjoh4FXiRCLgTPAtrZLkOi3q3ryEnS1mKjw7wJ8T4w0TsDfuqDkDNwHdkr6mAJgO07AOWBv2004KOlZivNc1/a8rA7MblMHVkt61BBgQVYHZrYBeA7sA6KjiYdFXYk6cArYUmMJRiUtD71oSKa7H/gJbJUUfeO0AsTL6ClwQtJonqXIwC1gY908J+rFUR6IlqxqXgAMAVcTDddVvykpOuJKmXiY2I6uOLrjqZS4FeNIxzuhM0AGsRs4DKxo+WL6AMQ745ik990i+gN2mEgw/3nqggAAAABJRU5ErkJggg==\"","//写入内容到剪切板中\r\nexport function writeToClipBoard(content) {\r\n  let writeStr = \"\";\r\n  if (Object.prototype.toString.call(content) === \"[object String]\") {\r\n    writeStr = JSON.stringify(content);\r\n  } else {\r\n    writeStr = content;\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    if (navigator.clipboard) {\r\n      // clipboard api 复制\r\n      navigator.clipboard.writeText(writeStr);\r\n    } else {\r\n      let textarea = document.createElement(\"textarea\");\r\n      document.body.appendChild(textarea);\r\n      textarea.style.position = \"fixed\";\r\n      textarea.style.clip = \"rect(0 0 0 0)\";\r\n      textarea.style.top = \"10px\";\r\n      textarea.value = writeStr;\r\n      textarea.select();\r\n      document.execCommand(\"copy\", true);\r\n      document.body.removeChild(textarea);\r\n    }\r\n    resolve();\r\n  });\r\n}\r\n","<!--\r\n  案例：\r\n  <XnskLogDialog\r\n      v-model:show=\"\"\r\n      data=\"我是日志的内容\"\r\n    />\r\n-->\r\n<template>\r\n  <DefaultDialog\r\n    :title=\"title\"\r\n    v-model:show=\"isShow\"\r\n    width=\"800\"\r\n    :callback=\"[]\"\r\n  >\r\n    <div class=\"break-all\">\r\n      {{ data }}\r\n    </div>\r\n    <template #footBtn>\r\n      <div class=\"text-center\">\r\n        <n-button type=\"primary\" @click=\"copyLog\">\r\n          <template #icon>\r\n            <img\r\n              class=\"mt-px\"\r\n              src=\"../assets/img/copy.png\"\r\n              style=\"width: 16px; height: 16px\"\r\n            /> </template\r\n          >复制日志\r\n        </n-button>\r\n      </div>\r\n    </template>\r\n  </DefaultDialog>\r\n</template>\r\n\r\n<script setup>\r\nimport DefaultDialog from \"./DefaultDialog.vue\";\r\nimport { computed, useSlots } from \"vue\";\r\nimport { writeToClipBoard } from \"../utils\";\r\nimport { NButton } from \"naive-ui\";\r\nconst emit = defineEmits([\"update:show\"]);\r\n\r\nconst slot = useSlots();\r\nconst props = defineProps({\r\n  show: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  title: {\r\n    type: String,\r\n    default: \"日志\",\r\n  },\r\n  data: {\r\n    type: String,\r\n    default: \"\",\r\n  },\r\n});\r\n/* 是否显示弹窗 */\r\nlet isShow = computed({\r\n  get() {\r\n    return props.show;\r\n  },\r\n  set(val) {\r\n    if (!val) {\r\n      emit(\"update:show\", false);\r\n    }\r\n  },\r\n});\r\n/* 点击复制 */\r\nfunction copyLog() {\r\n  writeToClipBoard(props.data).then(() => {\r\n    try {\r\n      $message.success(\"复制成功\");\r\n    } catch (err) {\r\n      console.log(\"$message未定义\");\r\n      emit(\"success\");\r\n    }\r\n  });\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import * as inherit from \"./inherit.js\";\r\nimport * as extend from \"./src/components\";\r\nimport \"./src/css/main.css\";\r\n\r\n/* 非组件 */\r\nimport { useMessage } from \"naive-ui\";\r\n\r\nconst install = function (Vue, opts = {}) {\r\n  /* 转发naive部分 */\r\n  for (let key in inherit) {\r\n    const name = \"Xnsk\" + inherit[key].name;\r\n    Vue.component(name, inherit[key]);\r\n  }\r\n  /* 自定义部分 */\r\n  for (let key in extend) {\r\n    Vue.component(key, extend[key]);\r\n  }\r\n};\r\nexport { useMessage };\r\nexport default { install, ...extend };\r\n"],"names":["fontSize","computed","props","attrs","useAttrs","slot","useSlots","isShow","val","cancelClick","submitClick","emit","_imports_0","writeToClipBoard","content","writeStr","resolve","reject","textarea","copyLog","err","index","__spreadValues","Vue","opts","key","inherit","name","extend"],"mappings":"6jFAiCMA,EAAWC,EAAQ,SAAC,IAAM,CAC9B,OAAQC,EAAM,KAAI,CAChB,IAAK,QACH,MAAO,OACT,IAAK,MACH,MAAO,OACT,QACE,OAAOA,EAAM,IAChB,CACH,CAAC,wzBCsDKC,EAAQC,EAAQ,SAAA,EAChBC,EAAOC,EAAQ,SAAA,EAsCrB,IAAIC,EAASN,EAAAA,SAAS,CACpB,KAAM,CACJ,OAAOC,EAAM,IACd,EACD,IAAIM,EAAK,CACFA,GACHC,GAEH,CACH,CAAC,EAGD,SAASC,GAAc,CACrBR,EAAM,SAAS,CAAC,GAAKA,EAAM,SAAS,CAAC,GACvC,CAEA,SAASO,GAAc,CACjBN,EAAM,cACRQ,EAAK,cAAe,IAAM,CACpBT,EAAM,SAAS,CAAC,IAClBS,EAAK,cAAe,EAAK,EACzBT,EAAM,SAAS,CAAC,GAAKA,EAAM,SAAS,CAAC,IAE7C,CAAK,GAEDS,EAAK,cAAe,EAAK,EACzBT,EAAM,SAAS,CAAC,GAAKA,EAAM,SAAS,CAAC,IAEzC,0pCCnKeU,EAAA,q2BCCR,SAASC,EAAiBC,EAAS,CACxC,IAAIC,EAAW,GACf,OAAI,OAAO,UAAU,SAAS,KAAKD,CAAO,IAAM,kBAC9CC,EAAW,KAAK,UAAUD,CAAO,EAEjCC,EAAWD,EAEN,IAAI,QAAQ,CAACE,EAASC,IAAW,CACtC,GAAI,UAAU,UAEZ,UAAU,UAAU,UAAUF,CAAQ,MACjC,CACL,IAAIG,EAAW,SAAS,cAAc,UAAU,EAChD,SAAS,KAAK,YAAYA,CAAQ,EAClCA,EAAS,MAAM,SAAW,QAC1BA,EAAS,MAAM,KAAO,gBACtBA,EAAS,MAAM,IAAM,OACrBA,EAAS,MAAQH,EACjBG,EAAS,OAAM,EACf,SAAS,YAAY,OAAQ,EAAI,EACjC,SAAS,KAAK,YAAYA,CAAQ,EAEpCF,GACJ,CAAG,CACH,iaCeaV,EAAAA,SAAW,EAgBxB,IAAIC,EAASN,EAAAA,SAAS,CACpB,KAAM,CACJ,OAAOC,EAAM,IACd,EACD,IAAIM,EAAK,CACFA,GACHG,EAAK,cAAe,EAAK,CAE5B,CACH,CAAC,EAED,SAASQ,GAAU,CACjBN,EAAiBX,EAAM,IAAI,EAAE,KAAK,IAAM,CACtC,GAAI,CACF,SAAS,QAAQ,MAAM,CACxB,OAAQkB,EAAP,CACA,QAAQ,IAAI,aAAa,EACzBT,EAAK,SAAS,CACf,CACL,CAAG,CACH,kgBCzDAU,EAAeC,EAAA,CAAE,QAZD,SAAUC,EAAKC,EAAO,GAAI,CAExC,QAASC,KAAOC,EAAS,CACvB,MAAMC,EAAO,OAASD,EAAQD,CAAG,EAAE,KACnCF,EAAI,UAAUI,EAAMD,EAAQD,CAAG,CAAC,EAGlC,QAASA,KAAOG,EACdL,EAAI,UAAUE,EAAKG,EAAOH,CAAG,CAAC,CAElC,GAE6BG"}